# Picklist 仕様書

## 1. システム概要

### 1.1 目的
日常の買い物をより効率的に管理できるモバイルアプリケーションを提供する。

### 1.2 対象ユーザー
- 日常的に買い物リストを作成する一般ユーザー
- 複数人で買い物リストを共有したいユーザー
- レシピから買い物リストを作成したいユーザー

## 2. 機能仕様

### 2.1 買い物リスト管理機能
- 初期状態で空のリストを表示
- リストアイテムの追加
  - 品名
  - 数量
  - 単位
  - バーコード（オプション）
- ドラッグ&ドロップによる並び替え
  - 直感的なUIでの操作
  - アニメーションによるフィードバック
- チェックボックスによる購入済み管理
  - 購入済みアイテムの視覚的表示
  - フィルタリングオプション

### 2.2 バーコードスキャン機能
- カメラアクセスの権限管理
- バーコードの自動認識
  - JANコード対応
  - 他の一般的なバーコード形式にも対応
- スキャン結果の表示と確認
- リストへの即時追加機能

### 2.3 共有機能
- テキスト形式でのエクスポート
- 外部アプリとの連携
  - LINE
  - メール
  - その他メッセージングアプリ
- 共有フォーマットのカスタマイズ

### 2.4 テーマ設定
- ライト/ダークモードの切り替え
- システム設定との連動
- テーマ設定の永続化

## 3. 技術仕様

# Picklist 仕様書

（1. システム概要 から 2.4 テーマ設定 までは変更なし）

## 3. 技術仕様

### 3.1 画面構成
- ルーティング構造（Expo Router）
  - `/` - ホーム画面（買い物リスト一覧）
  - `/scanner` - バーコードスキャナー画面
  - `/settings` - 設定画面

### 3.2 ディレクトリ構造
```
picklist/
├── app/                     # Expo Routerのルートディレクトリ
│   ├── _layout.tsx         # ルートレイアウト
│   ├── index.tsx           # ホーム画面
│   ├── scanner.tsx         # スキャナー画面
│   └── settings.tsx        # 設定画面
├── src/                     # 共通のソースコード
│   ├── components/         # 再利用可能なコンポーネント
│   ├── hooks/              # カスタムフック
│   ├── stores/             # 状態管理
│   ├── styles/             # 共通スタイル
│   └── utils/              # ユーティリティ関数
└── assets/                  # 画像やフォント
```

### 3.3 データ構造
```typescript
interface PicklistItem {
  id: string;
  name: string;
  quantity: number;
  unit: string;
  isChecked: boolean;
  order: number;
  barcode?: string;
}

interface Picklist {
  id: string;
  name: string;
  items: PicklistItem[];
  createdAt: Date;
  updatedAt: Date;
}
```

### 3.4 UI仕様
- レスポンシブデザイン対応
- カラーパレット
  - ライトモード
    - 背景：白（#FFFFFF）
    - テキスト：濃いグレー（#111827）
    - 入力フィールド：白背景、グレーボーダー
    - プライマリーボタン：青（#3B82F6）
    - セカンダリーボタン：緑（#22C55E）
  - ダークモード
    - 背景：濃いグレー（#111827）
    - テキスト：白（#FFFFFF）
    - 入力フィールド：やや明るいグレー（#1F2937）
    - プライマリーボタン：濃い青（#2563EB）
    - セカンダリーボタン：濃い緑（#16A34A）

### 3.5 エラーハンドリング
- 入力値のバリデーション
- ネットワークエラーの処理
- バーコードスキャン失敗時の処理
- ユーザーへのフィードバック表示

### 3.6 パフォーマンス要件
- アプリ起動時間：3秒以内
- スクロールの滑らかさ
- バーコードスキャンのレスポンス：1秒以内
- オフライン対応

## 4. セキュリティ仕様
- カメラ使用時のプライバシー保護
- データの永続化における安全性確保
- 共有機能使用時のデータ保護

## 5. 動作環境
- iOS 13.0以上
- Android 8.0以上
- 推奨画面サイズ：375x667以上